CC=g++
# You can add -Werr to clang to force all warnings to turn into errors
CFLAGS=-std=c++11 -flto -g -Wall -Werror -Wpedantic -I../easyBMP/ -I../fixed_point/include/ -Wno-error=unused-variable
LDFLAGS=-lm -flto -g
# Macros defined by the user or OpenTuner
PARAMS :=

# Blank line ends list.
ifeq ($(DEBUG),1)
  CFLAGS += -DDEBUG -O0
else
  CFLAGS += -DNDEBUG -O3
endif

VERBOSE ?= 0
ifneq ($(VERBOSE), 0)
    CFLAGS += -DVERBOSE=$(VERBOSE)
endif

stereo: stereo.o
	$(CC) $(PARAMS) $(LDFLAGS) stereo.o -o $@

# # compile objects

# # pattern rule for building objects
stereo.o:
	$(CC) $(PARAMS) $(CFLAGS) -c stereo.cpp -o stereo.o


# # run each of the targets
# run: $(TARGETS)
# 	for X in $(TARGETS) ; do \
# 		echo $$X -v ; \
# 		./$$X -v ; \
# 		echo ; \
# 	done

partial_clean::
	$(RM) -R $(TARGETS) $(OBJS) $(MDRIVER_OBJS) $(ALLOCATOR_TEST_OBJS) *.std* *.pyc
	$(RM) -R tmp/*.out

# remove targets and .o files as well as output generated by AWSRUN
clean: partial_clean
	$(RM) -R *.db* *.log *.o stereo